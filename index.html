<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>JQuery</title>
  <script src="https://code.jquery.com/jquery-3.7.0.js" integrity="sha256-JlqSTELeR4TLqP0OG9dxM7yDPqX1ox/HfgiSLBj8+kM=" crossorigin="anonymous"></script>
  <script>
    $(document).ready(()=> {
      $("button#getBankDetails").click(()=>{
        $.ajax({
          url: "http://localhost:8080/get-bank-detail",
        })
        .always((data, status)=> {
          console.log(status);
        })
        .done((data, status)=> {
          const bankTitle = $("<h2 id=\"bank-name\"></h2>").text(data.bank);
          const bankAddress = $("<p></p>").text(data.address);
          const accountNumber = $("<p></p>").text("The bank has " + data["clients-number"] + " clients.");

          const michaelAccountButton = $("<button id='michael-account'></button>").text("Check Michael's Account");
          $("div.container").append(bankTitle);
          $("div.container").append(bankAddress);
          $("div.container").append(accountNumber);

          if (data["clients-number"] > 0) {
            $("div.container").append(michaelAccountButton);
          }
        })
        .fail((data, status)=> {
          const failHeading = $("<h2 id=\"bank-name\"></h2>").text("Failed to get data");
          const errorMessage = $("<p></p>").text(status);
          $("div.container").append(failHeading);
          $("div.container").append(errorMessage);
        })
      })
    })
  </script>
</head>
<body>
  <h1>JQuery Project for Bank API</h1>
  <button id="getBankDetails">Click me to get Bank details</button>
  <div class="container">
  </div>
</body>
</html>